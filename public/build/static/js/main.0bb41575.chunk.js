(this.webpackJsonptb=this.webpackJsonptb||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(2),o=a.n(r),i=(a(13),a(3)),l=a(4),c=a(5),m=a(7),u=a(6),h="https://twitterbattle-test.herokuapp.com",d=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={trumpURL:"https://api.whatdoestrumpthink.com/api/v1/quotes/random",kanyeURL:"https://api.kanye.rest/",gif:"",tweet:"",kanyeOrTrump:0,score:0,answer:!1,signUp:!1,login:!1,firstName:"",lastName:"",username:"",password:"",loginUsername:"",loginPassword:"",token:"",userid:"",baseURL:h,savedTweets:[]},e.handleChange=function(t){e.setState(Object(i.a)({},t.currentTarget.id,t.currentTarget.value))},e.handleClick=function(){e.refs.kanye.removeAttribute("disabled"),e.refs.trump.removeAttribute("disabled");0===Math.floor(Math.random()*Math.floor(2))?fetch(e.state.kanyeURL).then((function(e){return e.json()})).then((function(t){e.setState({tweet:t,kanyeOrTrump:0,answer:!1})})).catch((function(e){console.log("error:",e)})):fetch(e.state.trumpURL).then((function(e){return e.json()})).then((function(t){e.setState({tweet:t,kanyeOrTrump:1,answer:!1})})).catch((function(e){console.log("error:",e)}))},e.checkScoreKanye=function(){if(0===e.state.kanyeOrTrump){var t=e.state.score+1;fetch("https://api.giphy.com/v1/gifs/random?api_key=5DyTpmwivzpLt2zRMKU8IpYDB7v1LjOM&tag=kanye-west&rating=r").then((function(e){return e.json()})).then((function(a){console.log(a),e.setState({score:t,gif:a.data.embed_url,kanyeOrTrump:1,answer:!1})}))}else e.setState({gif:"https://giphy.com/gifs/kanye-west-shrug-shrugging-UUvaW1L0SK9Mc",answer:!e.state.answer});e.refs.trump.setAttribute("disabled","disabled"),e.refs.kanye.setAttribute("disabled","disabled")},e.checkScoreTrump=function(){if(1===e.state.kanyeOrTrump){var t=e.state.score+1;fetch("https://api.giphy.com/v1/gifs/random?api_key=5DyTpmwivzpLt2zRMKU8IpYDB7v1LjOM&tag=donald-trump&rating=r").then((function(e){return e.json()})).then((function(a){console.log(a),e.setState({score:t,gif:a.data.embed_url,kanyeOrTrump:1,answer:!1})}))}else fetch("https://api.giphy.com/v1/gifs/random?api_key=5DyTpmwivzpLt2zRMKU8IpYDB7v1LjOM&tag=incorrect&rating=r").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({gif:t.data.embed_url,answer:!e.state.answer})}));e.refs.trump.setAttribute("disabled","disabled"),e.refs.kanye.setAttribute("disabled","disabled")},e.saveTweet=function(t){console.log("frontend-tweet",t),console.log("this is the id: ",e.state.userid);var a=JSON.parse(localStorage.getItem("loginInfo"));fetch(e.state.baseURL+"/tweetbattle/"+e.state.userid,{method:"PUT",body:JSON.stringify({savedTweet:t,id:e.state.userid,password:a.loginPassword,token:a.token}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({savedTweets:t})})).catch((function(e){return console.log({Error:e})}))},e.delete=function(t){console.log("this is the id: ",e.state.userid),console.log("index: ",t);var a=JSON.parse(localStorage.getItem("loginInfo"));fetch(e.state.baseURL+"/tweetbattle/",{method:"DELETE",body:JSON.stringify({index:t,id:e.state.userid,password:a.loginPassword,token:a.token}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({savedTweets:t})})).catch((function(e){return console.log({Error:e})}))},e.signUp=function(t){t.preventDefault(),e.setState({signUp:!0,login:!1})},e.login=function(t){t.preventDefault(),fetch(e.state.baseURL+"/tweetbattle/login",{method:"POST",body:JSON.stringify({username:e.state.loginUsername,password:e.state.loginPassword}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({login:!0,loginUsername:t.username,loginPassword:"",token:t.token,userid:t.id,savedTweets:t.savedTweets}),localStorage.setItem("loginInfo",JSON.stringify({id:t.id,loginPassword:t.password,loginUsername:t.username,token:t.token}))})).catch((function(e){return console.error({Error:e})}))},e.createUser=function(t){t.preventDefault(),fetch(e.state.baseURL+"/tweetbattle",{method:"POST",body:JSON.stringify({firstName:e.state.firstName,lastName:e.state.lastName,username:e.state.username,password:e.state.password}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({signUp:!1,firstName:"",lastName:"",username:"",password:""})})).catch((function(e){return console.error({Error:e})}))},e.logout=function(t){t.preventDefault(),e.setState({login:!1,token:""})},e.cancel=function(t){t.preventDefault(),e.setState({signUp:!1,login:!1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.handleClick();var e=JSON.parse(localStorage.getItem("loginInfo"));console.log(e),e&&e.token&&this.setState({token:e.token,userid:e.id,loginUsername:e.loginUsername,login:!0})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"loggedIn"},this.state.login?s.a.createElement("button",{className:"btn btn-dark float-right",onClick:this.logout},"Logout"):""),this.state.signUp?s.a.createElement("form",{className:"form",style:{width:"50%"},onSubmit:this.createUser},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.firstName,placeholder:"First name",id:"firstName",name:"firstName"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.lastName,placeholder:"Last name",id:"lastName",name:"lastName"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.username,id:"username",name:"username",placeholder:"email (Username)"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"password",onChange:this.handleChange,value:this.state.password,id:"password",name:"password",placeholder:"Password"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"btn btn-primary form-control",style:{width:"70%"},type:"submit",value:"Sign up"}),s.a.createElement("input",{className:"btn btn-danger form-control",style:{width:"25%",marginLeft:"6px"},onClick:this.cancel,value:"Cancel"}))):s.a.createElement(s.a.Fragment,null,this.state.login?"":s.a.createElement("ul",{className:"nav"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.loginUsername,id:"loginUsername",name:"loginUsername",placeholder:"email (Username)"})),s.a.createElement("li",{className:"nav-item"},s.a.createElement("input",{className:"form-control",type:"password",onChange:this.handleChange,value:this.state.loginPassword,id:"loginPassword",name:"loginPassword",placeholder:"Password"})),s.a.createElement("li",{className:"nav-item"},s.a.createElement("button",{className:"btn btn-primary form-control",style:{marginLeft:"6px"},onClick:this.login},"Login")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("button",{className:"btn btn-primary form-control",style:{marginLeft:"12px"},onClick:this.signUp},"Signup"))),s.a.createElement("h1",null,"Trump vs. Kanye: Who Done It?"),s.a.createElement("p",null,"It's a true battle of the intellect. Can you guess who said what?"),s.a.createElement("h2",null," ",s.a.createElement("div",null,"Score: ",this.state.score)," "),s.a.createElement("iframe",{src:this.state.gif,width:"480",height:"222",frameBorder:"0",class:"giphy-embed",allowFullScreen:!0}),s.a.createElement("div",{className:"container"},this.state.answer?s.a.createElement("div",{className:"answer"},"Better luck next time! Don't worry you are still the greatest"):"",s.a.createElement("h3",{className:"quote"},this.state.tweet.quote?s.a.createElement("div",null,'"',this.state.tweet.quote,'"'):"",this.state.tweet.message?s.a.createElement("div",null,'"',this.state.tweet.message,'"'):""),s.a.createElement("br",null),s.a.createElement("button",{ref:"kanye",className:"btn btn-primary",style:{marginLeft:"6px"},onClick:function(){return e.checkScoreKanye()}},"Kanye"),s.a.createElement("button",{ref:"trump",className:"btn btn-primary",style:{marginLeft:"6px"},onClick:function(){return e.checkScoreTrump()}},"Trump"),s.a.createElement("button",{className:"btn btn-primary",style:{marginLeft:"6px"},onClick:function(){return e.handleClick()}},"New Quote"),this.state.login&&this.state.tweet.quote?s.a.createElement("button",{className:"btn btn-success",style:{marginLeft:"6px"},onClick:function(){return e.saveTweet(e.state.tweet.quote)}},"Save Tweet"):this.state.login&&this.state.tweet.message?s.a.createElement("button",{className:"btn btn-success",style:{marginLeft:"6px"},onClick:function(){return e.saveTweet(e.state.tweet.message)}},"Save Tweet"):""),s.a.createElement("div",{className:"row justify-content-center allSavedTweets"},this.state.savedTweets&&this.state.login?this.state.savedTweets.map((function(t,a){return s.a.createElement("div",{className:"w-25 p-3 savedTweet"},s.a.createElement("button",{style:{marginLeft:"80%",border:"none",backgroundColor:"white"},onClick:function(t){return e.delete(a)},key:a,value:a},s.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-trash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),s.a.createElement("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))),s.a.createElement("br",null),t)})):"")),s.a.createElement("div",{className:"footer"},s.a.createElement("div",{className:"footer-text"},"Copyright \xa9 2020 \u2014 TheGreatestBattle | Made with \u2665 in Texas, Atlanta & London")))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.0bb41575.chunk.js.map